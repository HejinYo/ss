# 线程池中线程复用原理

线程池的线程复用原理是指，将线程放入线程池中重复利用，**而不是每执行一个任务就创建一个新线程**。线程池会对线程进行封装，核心原理在于将线程的创建和管理与任务的执行分离。
线程池通过工作队列（WorkQueue）来存储待执行的任务，队列中可能有多个任务等待被执行。线程池中的线程数量是有限的，核心线程数通常是固定的，最大线程数可以设置，超过最大线程数后，任务会被拒绝。
当提交任务时，**线程池首先会检查当前线程数是否小于核心线程数**，如果是，则新建一个线程来执行任务；如果**当前线程数已经达到核心线程数**，但队列中没有正在执行的任务，则将任务放入队列中等待执行；如果**队列已满，且线程池中的线程数量未达到最大线程数**，则新建线程来执行任务；如果**队列已满，且线程池中的线程数量达到最大线程数**，则根据拒绝策略来处理无法执行的任务。
线程复用的关键是将任务的提交和线程的创建、管理、执行分离，通过线程池来统一管理和调度，减少了创建和销毁线程的开销，提高了系统的效率。同时，由于线程池的复用特性，可以有效控制并发度，避免大量线程的创建和销毁导致的系统负载过大。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/gxouhkcgzcdhw5hg>