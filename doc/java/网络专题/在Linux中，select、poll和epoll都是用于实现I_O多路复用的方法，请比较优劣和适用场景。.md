# 在Linux中，select、poll和epoll都是用于实现I/O多路复用的方法，请比较优劣和适用场景。

在Linux中，select、poll和epoll都是用于实现I/O多路复用的方法，它们的目标是让一个程序可以同时监控多个I/O操作，以便高效地处理多个文件描述符（sockets、文件等）的读写就绪情况。让我为你解释一下它们的优劣和适用场景：

1.  **select**： 
   - **优点**： 
      - 可移植性好，几乎所有系统都支持。
      - 适用于少量文件描述符，因为在每次调用时都需要线性扫描所有描述符。
   - **缺点**： 
      - 效率较低，因为每次调用都需要扫描整个描述符集合。
      - 最大文件描述符数量有限，通常是1024左右。
      - 不太适用于高并发场景，因为效率会随着描述符数量增加而降低。
2.  **poll**： 
   - **优点**： 
      - 可移植性也很好，几乎所有系统都支持。
      - 解决了select的最大描述符数量限制问题。
   - **缺点**： 
      - 依然需要线性扫描，效率相对较低，尤其在大量描述符时。
      - 需要维护一个较大的数据结构来存储描述符集合。
3.  **epoll**： 
   - **优点**： 
      - 高效，适用于高并发场景。它使用了事件通知机制，只返回就绪的文件描述符，避免了线性扫描。
      - 支持水平触发和边缘触发两种模式。
      - 没有描述符数量限制，适合处理大量并发连接。
   - **缺点**： 
      - 只在Linux系统中可用，不太可移植。
      - 对代码的使用稍微复杂一些，需要处理事件循环和回调函数。

**适用场景**：

- 如果你只需要在少量描述符上进行I/O多路复用，而且希望代码在各种系统上都能工作，可以使用select或poll。
- 如果你面临高并发场景，需要处理大量连接，那么epoll会是更好的选择，因为它能够更高效地处理大量描述符，避免了线性扫描的性能问题。

总之，select、poll和epoll都有各自的优劣和适用场景，根据你的需求选择合适的方法可以帮助你实现高效的I/O多路复用。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/awtqo38ngq6iysi5>