# 解释一下什么是跨站点请求伪造（CSRF）攻击，以及如何防止它？

嗨！当然可以，我可以用通俗易懂的语言来解释什么是跨站点请求伪造（CSRF）攻击以及如何防止它。

想象你正在玩一个在线游戏，在这个游戏里你需要收集金币来升级你的角色。你正专心致志地玩着，突然你收到一封电子邮件，里面有一个看起来很吸引人的链接，说可以帮助你快速获取大量金币。你点击了链接，但是你根本没有意识到，这个链接实际上是一个陷阱，被黑客设计用来偷取你的金币。

跨站点请求伪造（CSRF）攻击就有点像这个例子。它是一种网络攻击，黑客会利用你已登录的账户身份来执行一些恶意操作，而你可能毫不知情。攻击者在一个网站上创建了一个诱人的链接、图片或按钮，当你登录了这个网站后，点击这些东西就会在你不知情的情况下触发一些操作，比如更改你的密码、发送钱款等。

那么，如何防止这种攻击呢？有几个简单的方法：

1.  **使用CSRF令牌**：网站可以在用户登录后，在每个请求中包含一个特殊的令牌，这个令牌是随机生成的。服务器会检查这个令牌，如果不匹配，就拒绝请求。 
2.  **检查Referer头部**：服务器可以检查请求的来源网址（Referer头部），如果来源不是同一站点，就拒绝请求。不过这种方法可能不太可靠，因为有些浏览器可能会禁用或修改Referer头部。 
3.  **同源策略**：浏览器的同源策略会阻止网页从一个不同域名的网站上获取数据或执行操作。这可以在一定程度上防止CSRF攻击。 
4.  **使用验证码**：对于敏感操作，比如修改密码或进行支付，可以要求用户输入验证码，这样即使攻击者发起了CSRF攻击，也无法完成敏感操作。 

总之，保护自己免受CSRF攻击需要一些技巧，但通过采取一些简单的安全措施，你可以大大降低受到攻击的风险。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/hqoncgtg2nwh11e5>