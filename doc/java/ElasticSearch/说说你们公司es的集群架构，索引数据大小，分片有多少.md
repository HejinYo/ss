# 说说你们公司 es 的集群架构，索引数据大小，分片有多少

我们公司的Elasticsearch集群包含13个节点，这些节点分别负责不同的索引和分片。这些节点分布在不同的地理位置，以确保容错性和高可用性。
我们根据业务需求创建了20+个索引，这些索引对应着不同的业务数据。每个通道每天递增的数据量在20+GB左右，索引大小控制在150GB之内。
在索引的划分方面，我们采用了10个分片。每个分片都是一个独立的Lucene索引，可以存储一部分数据。这样的划分方式可以平衡负载，将搜索和更新请求分散到多个节点上，提高并发处理能力，从而提高搜索性能和可靠性。
此外，我们还使用了副本分片来提供数据冗余和容错性。每个主分片都有一个对应的副本分片，共10个分片和10个副本分片。这样的设计可以确保即使某个节点发生故障，也不会影响整个索引的可用性。
在集群的配置方面，每个节点都配备了高性能的处理器和大容量的存储器。我们还使用了Elasticsearch的优化版本，以确保系统的高效性和稳定性。
总的来说，我们的Elasticsearch集群具有可扩展、高可用和容错性的特点。通过合理的索引和分片设计，我们实现了高效的搜索和数据分析能力，能够满足公司业务的需求。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/lod2cy3udsngw1up>