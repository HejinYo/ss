# 短视频

面试官又出难题了：MyBatis一二级缓存有什么区别？ 大家好，我是JJ

其实这道面试题说难也不难，说容易也不容易，主要是看大家在平常工作中有没有积累相关的 mybatis 经验，

想要回答这个问题，我们得先搞清楚什么一级缓存，二级缓存。

首先，**一级缓存**是在**同一个会话里自动开启的缓存机制**，它主要用于**优化查询**操作的速度。

当你执行一次查询后，MyBatis 会把结果存起来，这样下次再查询相同的数据时，就可以直接从缓存里面获取，而不需要再次访问数据库。

只要**会话没有结束，这个缓存就一直有效**，但它**仅在当前会话**内起作用。

而**二级缓存**是用来**跨会话共享数据**的，不同的会话也能使用同样的缓存数据，这可以进一步减少数据库的访问次数。

不过，二级缓存**需要手动配置**才能开启的，而且它可以将数据存储到文件系统或者分布式缓存中，这样多个会话就可以共享同样的缓存数据了。

现在我们在来看 **一级缓存与二级缓存的区别**

首先是**作用范围**，一级缓存只在一个会话内部有效，而二级缓存则可以在不同会话之间共享数据。

其次，一级缓存是**默认开启的**，不需要特别设置，而二级缓存**需要手动配置**才能生效。

此外，缓存失效的机制也不同，一级缓存会在**会话结束时清空**，而二级缓存可以**根据具体的配置来失效和更新**。

总的来说，一级缓存适合在单个会话内共享数据，而二级缓存适合在多个会话之间共享数据。不过，记住二级缓存需要手动设置才能使用。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/ygm4rsmx99inqvh6>