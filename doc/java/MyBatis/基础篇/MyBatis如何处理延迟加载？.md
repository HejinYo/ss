# MyBatis如何处理延迟加载？

所谓的延迟加载，其实就是一种优化方法，目标是为了在查数据库的时候，尽量不读取多余的数据，从而提高我们应用的表现和节约资源。在MyBatis里，这个延迟加载的技巧主要是用在处理对象关系映射的时候，也就是ORM。

来个例子帮你理解：假设有两张表，一张是订单表，另一张是商品表。每个订单下面可能有好几个商品。用延迟加载的话，当我们查一个订单的时候，MyBatis不会马上查出这个订单的所有商品，而是等到我们真的要用商品的数据时才去查。这样做就避免了在查订单的时候额外加载了一堆没用的商品。

用延迟加载有几个好处：

1. 性能更好：特别是在对象关系复杂或者数据多的情况下，延迟加载可以减少一次性加载大量数据，让查询更快，应答更快。
2. 省资源：不一开始就加载所有关联数据，可以按需加载，节约了内存和网络资源。
3. 避免不必要的查：如果有些关联数据在当前情境下用不上，用延迟加载就能避免没必要的数据库查，不累积数据库的负担。

但要注意，虽然延迟加载能提升性能，可别用得过了，免得碰上懒加载的N+1问题，就是要查很多次才能拿到关联数据，结果性能就拖垮了。所以用延迟加载的时候，得根据实际情况合理配置和使用。

总之，MyBatis的延迟加载能帮助优化数据库查询，不读取不必要的数据，提升应用的响应速度，资源利用也更高。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/gpktsk52wkipvbmb>