# 短视频

如果让你设计一个缓存， 怎么避免缓存内存过大溢出。  今天有一个小伙伴遇到这样的面试题，乍一看很唬人，很多人听到让我自己设计什么什么东西就直接慌了，其实让你设计任何东西都可以从已有技术中提取取解决方案，这个问题其实你只要知道缓存的内存淘汰策略就很容易回答。

内存淘汰策略允许内存资源紧张时，根据一定的策略主动删除一些缓存值，以释放内存空间并保持系统的稳定性。

哈喽大家好我是徐庶， 我来就着Redis介绍下它的6中内存淘汰策略：


### noeviction（不淘汰策略）
这种方式呢，当写入缓存时，发现现当内存无法容纳新数据时，Redis会  直接返回错误。这是Redis默认的策略，可以通过redis.conf配置文件修改。

### volatile-LRU（最近最少使用）
从已经**设置了过期时间的数据**中选择**最少使用的进行删除**。这个策略**优先会删除最久没有被访问的数据**，**保留最常用的**。

### volatile-TTL（根据过期时间优先）
从已经**设置了过期时间的数据**中选择**即将过期的数据进行删除**。 剩余时间更长的数据会被保留下来。

### volatile-random（随机删除）
从设置了**过期时间**的**数据**中**随机**选择一个数据进行删除。

### allkeys-lru（全局最近最少使用）
从**所有数据中**选择**最少使用的数据**进行删除。跟之前volatile-LRU相比它不管他有没有设置**过期时间**，都将参与淘汰。

### allkeys-random（全局随机删除）
从**所有数据**中随机选择一个键进行删除。


所以大家只要对技术的广度和深度都所掌握，遇到一些开放性的设计题，只需要提取已有技术的解决方案就行。我给大家整理了一份80万字的java面试资料，里面涵盖了java所有主流技术  从虚拟机、并发编程、ssm、springboot、redis、mq 等，需要的小伙伴可以在评论区扣666,。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/ibtgzpxqd3pkytm2>