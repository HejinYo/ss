# Dubbo的集群容错策略有哪些？它们的工作原理是什么？

Dubbo提供了多种集群容错策略，用于处理在分布式环境中可能出现的故障和异常情况，以保障系统的稳定性和可靠性。以下是Dubbo支持的一些集群容错策略及其工作原理：

1.  **Failover（重试）：** 这是默认的容错策略。当调用失败时，Dubbo会自动重试其他可用的提供者实例，直到重试次数达到上限或者成功调用为止。该策略适用于服务提供者实例较多、分布式环境中可能存在短暂故障的情况。 
2.  **Failfast（快速失败）：** 调用失败后立即报错，不会进行重试。适用于对响应时间要求较高的场景，以避免在某个提供者实例出现故障时花费过多时间等待。 
3.  **Failsafe（失败安全）：** 调用失败后，Dubbo会记录错误信息，但不会抛出异常，而是直接返回一个默认值。适用于非关键性操作，允许某些调用失败，但不影响整体业务流程。 
4.  **Failback（失败自动恢复）：** 类似于Failover，但是会在后台记录失败的请求，当提供者恢复正常时，会自动将之前失败的请求重新发送。适用于服务提供者故障不稳定，可能出现断断续续的情况。 
5.  **Forking（并行调用）：** 调用多个提供者实例，只要有一个成功返回结果，就将其返回给消费者。适用于对服务的可用性要求较高的情况，通过并行调用提高调用成功的概率。 
6.  **Broadcast（广播调用）：** 将请求发送给所有的提供者实例，只要有一个成功返回结果，就将其返回给消费者。适用于需要同时通知多个提供者的场景，如事件广播。 

这些集群容错策略的工作原理基本上是在消费者端对提供者实例进行管理和调度。Dubbo会根据配置的集群容错策略，在发生调用失败时采取不同的处理方式，如重试、快速失败、并行调用等。选择合适的集群容错策略取决于业务需求和系统的可靠性要求。可以通过在消费者端的配置文件中设置`cluster`属性来选择使用哪种集群容错策略。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/lmcnigeghwb3fkhz>