# 说说 Zookeeper 的 CAP 问题上做的取舍

Zookeeper 在 CAP 问题上选择了 CP，也就是说，在一致性和可用性之间，Zookeeper 选择了强一致性。
Zookeeper 是一个分布式协调服务，它的主要职责是维护整个系统的状态，并提供一致性的服务。因此，为了保证数据的一致性，Zookeeper 必须确保在分布式节点之间进行同步的时候，不能出现不一致的情况。这就意味着，在出现网络故障或者消息丢失的情况下，Zookeeper 不能牺牲用户的体验，也就是不能出现部分节点可用而部分节点不可用的情况。
然而，这并不意味着 Zookeeper 完全牺牲了可用性。尽管它选择了一致性优先的策略，但它还是通过一些机制来尽可能地提高可用性。例如，它允许客户端在多个服务器之间进行备份，以防止单个服务器故障导致服务不可用。此外，它还提供了实时性和持久性的选择，以满足不同应用场景的需求。
总的来说，Zookeeper 在 CAP 问题上的取舍是为了保证数据的一致性，虽然在一定程度上牺牲了可用性，但通过一些机制尽可能地提高服务的可用性。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/ui12454v7x9llg29>