# Zookeeper 是如何保证事务的顺序一致性的

Zookeeper保证事务的顺序一致性是通过两个机制实现的：事务的严格串行化和锁定机制。

1. **事务的严格串行化**：在Zookeeper中，所有的写操作都必须经过一个称为“提交”（commit）的阶段。在一个事务还没有被提交之前，任何客户端都无法读取该事务。 这种机制确保了所有事务按照严格的顺序执行，保证了事务的顺序一致性。
2. **锁定机制**：Zookeeper使用锁定机制来保证事务的顺序一致性。在某些情况下，不同的事务可能需要访问同一个资源，这时就需要使用锁定机制来协调它们之间的访问。Zookeeper提供了两种类型的锁：共享锁和排他锁。共享锁允许多个事务同时访问同一个资源，而排他锁则阻止其他事务访问该资源。

通过以上两个机制，Zookeeper确保了事务的顺序一致性，从而保证了数据的一致性和系统的可靠性。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/zdndrnzwpgxymx0c>