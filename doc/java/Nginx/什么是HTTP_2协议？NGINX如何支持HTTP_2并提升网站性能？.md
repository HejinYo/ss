# 什么是HTTP/2协议？NGINX如何支持HTTP/2并提升网站性能？

HTTP/2是一种用于在Web浏览器和服务器之间进行通信的协议，旨在提高网站性能和加载速度。它是HTTP/1.1的继任者，引入了许多优化和改进，以适应现代Web应用的需求。HTTP/2的主要目标是减少延迟、提高效率，以及更好地支持并发请求。

以下是HTTP/2的一些特点和优势：

1.  **多路复用**：HTTP/2允许在单个连接上并发发送多个请求和响应，从而避免了HTTP/1.1中的队头阻塞问题，提高了并发性能。 
2.  **头部压缩**：HTTP/2使用HPACK算法对请求和响应头部进行压缩，减少了传输数据的大小，从而降低了带宽消耗。 
3.  **服务器推送**：HTTP/2支持服务器推送，服务器可以在客户端请求前主动发送额外的资源，从而提高页面加载速度。 
4.  **二进制协议**：HTTP/2使用二进制编码来传输数据，与HTTP/1.1的文本协议相比，更高效地处理数据。 
5.  **流量优先级**：HTTP/2允许给每个流分配优先级，使得浏览器可以更好地决定请求的顺序，提高用户体验。 

在NGINX中，你可以通过以下步骤来支持HTTP/2并提升网站性能：

1.  **使用更新版本的NGINX**：
确保你正在使用支持HTTP/2的NGINX版本。通常从1.9.5版本开始，NGINX开始支持HTTP/2。 
2.  **启用SSL/TLS**：
HTTP/2在大多数情况下需要使用SSL/TLS来加密连接。因此，你需要配置SSL证书，以便通过HTTPS协议进行通信。 
3.  **启用HTTP/2模块**：
在NGINX配置文件中，可以使用`http2`指令启用HTTP/2模块。通常你需要将其添加到`listen`指令中的SSL配置块内。 
```nginx
server {
    listen 443 ssl http2;
    server_name example.com;
    ssl_certificate /path/to/ssl/cert.crt;
    ssl_certificate_key /path/to/ssl/cert.key;
    # ...
}
```
 

4.  **优化资源**：
利用HTTP/2的多路复用和服务器推送特性，你可以优化网站资源的加载。确保将CSS、JavaScript和其他静态资源进行合并和最小化，以减少页面加载时间。 

通过启用HTTP/2并进行相应的优化，你可以显著提升网站性能，改善用户体验，以及减少资源消耗。需要注意的是，HTTP/2在大多数现代浏览器中得到支持，但仍建议进行兼容性测试，以确保在不同的浏览器中都能正常工作。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/zezcqyndgzfky4bf>