# 如何优化深分页limit 1000000

深分页问题是 MySQL 中常见的性能问题，当你尝试获取大量数据的后续页面时，性能会显著下降。这是因为 MySQL 需要先扫描到指定的偏移量，然后再返回数据。
例如，以下查询可能会非常慢：
```sql
SELECT * FROM table ORDER BY id LIMIT 1000000, 10;
```
这是因为 MySQL 需要先扫描 1000000 行数据，然后再返回后面的 10 行数据。
解决深分页问题的常见方法有以下几种：

1. **使用覆盖索引：** 覆盖索引可以让 MySQL 在索引中获取所有需要的数据，而无需回表查询。这可以大大提高查询速度。
```sql
SELECT id FROM table ORDER BY id LIMIT 1000000, 10;
```

2. **记住上次的位置：** 如果你的应用程序可以记住上次查询的最后一个 ID，那么你可以使用 WHERE 子句来避免扫描大量数据。
```sql
SELECT * FROM table WHERE id > last_id ORDER BY id LIMIT 10;
```

3. **使用分页插件：** 有些数据库框架提供了分页插件，可以自动优化分页查询。
4. **避免深分页：** 在设计应用程序时，尽量避免深分页。例如，你可以提供搜索功能，让用户快速找到他们需要的数据，而不是浏览大量的页面。

以上只是一些常见的解决方法，具体的解决方案需要根据实际情况来确定。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/uoz3em0uov8mlui8>