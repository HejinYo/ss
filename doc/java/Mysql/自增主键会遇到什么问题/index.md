# 自增主键会遇到什么问题

使用数据库的自增主键，虽然在很多情况下都很方便，但也可能遇到一些问题：

1. **插入性能问题：**对于非常高并发的插入操作，自增主键可能会成为性能瓶颈。因为每次插入新记录时，都需要获取一个新的自增ID，这个操作是串行的，无法并发执行。
2. **主键耗尽：**如果表的记录非常多，可能会出现自增主键耗尽的情况。尤其是对于定义为整型的自增主键，如果插入的记录数超过了整型的最大值，就无法再插入新的记录。
3. **分布式系统问题：**在分布式系统中，如果多个数据库节点都需要生成自增主键，就需要保证生成的主键在全局是唯一的。这通常需要引入额外的机制或工具，比如分布式ID生成器。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/md6hd5r9nedsau1w>