# 短视频

不会还有人认为 对象一定分配在堆中吧，大家好，我是百里，今天我们就来好好聊聊这个问题：对象一定分配在堆中吗？
首先，按照Java的传统观念，对象通常是在堆内存中分配的。这是因为堆内存是JVM中用于存储对象实例和数组的地方。
但是，如果我们深入挖掘，就会发现这不是唯一的答案。Java其实提供了一些优化手段，可以在特定情况下将对象分配在其他地方。
比如，通过逃逸分析，JVM可以确定某些对象不会逃逸出方法作用域，这时就可以在栈上分配对象，从而避免了在堆上分配。
另外，还有一种情况是标量替换，JVM可能会将对象分解为基本类型，并在栈上或寄存器中分配这些基本类型的值。
所以，虽然大多数情况下对象是在堆上分配的，但在某些特定情况下，对象也可以在栈上或者通过标量替换来分配。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/hoorfp34vbuknihz>